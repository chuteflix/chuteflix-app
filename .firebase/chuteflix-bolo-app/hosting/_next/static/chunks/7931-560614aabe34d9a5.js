"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7931],{22346:(e,a,s)=>{s.d(a,{w:()=>o});var l=s(95155),t=s(12115),r=s(87489),n=s(59434);let o=t.forwardRef((e,a)=>{let{className:s,orientation:t="horizontal",decorative:o=!0,...i}=e;return(0,l.jsx)(r.b,{ref:a,decorative:o,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",s),...i})});o.displayName=r.b.displayName},26126:(e,a,s)=>{s.d(a,{E:()=>o});var l=s(95155);s(12115);var t=s(74466),r=s(59434);let n=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:s,...t}=e;return(0,l.jsx)("div",{className:(0,r.cn)(n({variant:s}),a),...t})}},39536:(e,a,s)=>{s.d(a,{X:()=>q});var l=s(95155),t=s(12115),r=s(94948),n=s(6874),o=s.n(n),i=s(85005),c=s(12543),d=s(19968),u=s(59434),m=s(30285);let x=t.createContext(null);function f(){let e=t.useContext(x);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let h=t.forwardRef((e,a)=>{let{orientation:s="horizontal",opts:r,setApi:n,plugins:o,className:c,children:d,...m}=e,[f,h]=(0,i.A)({...r,axis:"horizontal"===s?"x":"y"},o),[p,j]=t.useState(!1),[N,b]=t.useState(!1),w=t.useCallback(e=>{e&&(j(e.canScrollPrev()),b(e.canScrollNext()))},[]),v=t.useCallback(()=>{null==h||h.scrollPrev()},[h]),g=t.useCallback(()=>{null==h||h.scrollNext()},[h]),y=t.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),g())},[v,g]);return t.useEffect(()=>{h&&n&&n(h)},[h,n]),t.useEffect(()=>{if(h)return w(h),h.on("reInit",w),h.on("select",w),()=>{null==h||h.off("select",w)}},[h,w]),(0,l.jsx)(x.Provider,{value:{carouselRef:f,api:h,opts:r,orientation:s||((null==r?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:g,canScrollPrev:p,canScrollNext:N},children:(0,l.jsx)("div",{ref:a,onKeyDownCapture:y,className:(0,u.cn)("relative",c),role:"region","aria-roledescription":"carousel",...m,children:d})})});h.displayName="Carousel";let p=t.forwardRef((e,a)=>{let{className:s,...t}=e,{carouselRef:r,orientation:n}=f();return(0,l.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,l.jsx)("div",{ref:a,className:(0,u.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",s),...t})})});p.displayName="CarouselContent";let j=t.forwardRef((e,a)=>{let{className:s,...t}=e,{orientation:r}=f();return(0,l.jsx)("div",{ref:a,role:"group","aria-roledescription":"slide",className:(0,u.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",s),...t})});j.displayName="CarouselItem";let N=t.forwardRef((e,a)=>{let{className:s,variant:t="outline",size:r="icon",...n}=e,{orientation:o,scrollPrev:i,canScrollPrev:d}=f();return(0,l.jsxs)(m.$,{ref:a,variant:t,size:r,className:(0,u.cn)("absolute  h-8 w-8 rounded-full","horizontal"===o?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!d,onClick:i,...n,children:[(0,l.jsx)(c.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});N.displayName="CarouselPrevious";let b=t.forwardRef((e,a)=>{let{className:s,variant:t="outline",size:r="icon",...n}=e,{orientation:o,scrollNext:i,canScrollNext:c}=f();return(0,l.jsxs)(m.$,{ref:a,variant:t,size:r,className:(0,u.cn)("absolute h-8 w-8 rounded-full","horizontal"===o?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!c,onClick:i,...n,children:[(0,l.jsx)(d.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Next slide"})]})});b.displayName="CarouselNext";var w=s(35695),v=s(68437),g=s(6516),y=s(34948),C=s(66695),E=s(91394),S=s(26126),k=s(46102),R=s(22346),z=s(50286),A=s(85268),D=s(50594),P=s(11133),T=s(389),B=s(41784),I=s(68856);function F(e){let{bolao:a,homeTeam:s,awayTeam:r}=e,{user:n}=(0,v.A)(),o=(0,w.useRouter)(),[i,c]=(0,t.useState)(0),[d,u]=(0,t.useState)(!0),[x,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{u(!0);try{let e=await (0,g.D0)(a.id);c(e)}catch(e){console.error("Erro ao buscar participantes:",e)}finally{u(!1)}})();let e=()=>{if(a.matchStartDate&&a.closingTime)try{let e=(0,T.qg)("".concat((0,B.GP)(new Date(a.matchStartDate),"yyyy-MM-dd")," ").concat(a.closingTime),"yyyy-MM-dd HH:mm",new Date);!isNaN(e.getTime())&&new Date>e&&f(!0)}catch(e){console.error("Erro ao parsear data de fechamento:",e)}};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[a.id,a.matchStartDate,a.closingTime]);let h=a.betAmount*i,p=(a.initialPrize||0)+.9*h,j=x&&"Aberto"===a.status?"Fechado":a.status,N={Aberto:{variant:"success",label:"Aberto"},Fechado:{variant:"secondary",label:"Fechado"},Finalizado:{variant:"destructive",label:"Finalizado"}}[j]||{variant:"outline",label:j},b="Fechado"===j||"Finalizado"===j;return(0,l.jsx)(k.Bc,{delayDuration:100,children:(0,l.jsxs)(C.Zp,{className:"flex flex-col h-full w-full border-border hover:border-primary transition-all group overflow-hidden",children:[(0,l.jsx)(C.aR,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold leading-tight line-clamp-2",children:"".concat(s.name," vs ").concat(r.name)}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:a.championship})]}),(0,l.jsx)(S.E,{variant:N.variant,className:"shrink-0",children:N.label})]})}),(0,l.jsx)(C.Wu,{className:"flex-grow p-4 flex flex-col items-center justify-center text-center",children:(0,l.jsxs)("div",{className:"flex items-center justify-around w-full",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsxs)(E.eu,{className:"h-16 w-16 sm:h-20 sm:w-20",children:[(0,l.jsx)(E.BK,{src:s.logoUrl,alt:s.name}),(0,l.jsx)(E.q5,{children:s.name.slice(0,2).toUpperCase()})]}),(0,l.jsx)("span",{className:"font-semibold text-sm max-w-[100px] truncate",children:s.name})]}),(0,l.jsx)("div",{className:"text-2xl font-bold text-muted-foreground px-2",children:"VS"}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsxs)(E.eu,{className:"h-16 w-16 sm:h-20 sm:w-20",children:[(0,l.jsx)(E.BK,{src:r.logoUrl,alt:r.name}),(0,l.jsx)(E.q5,{children:r.name.slice(0,2).toUpperCase()})]}),(0,l.jsx)("span",{className:"font-semibold text-sm max-w-[100px] truncate",children:r.name})]})]})}),(0,l.jsxs)(C.wL,{className:"p-4 bg-muted/30 flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"w-full flex justify-between text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,l.jsx)(z.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"font-semibold text-foreground",children:d?"...":i}),(0,l.jsx)("span",{children:"participantes"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,l.jsx)(A.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"font-semibold text-foreground",children:"Taxa:"}),(0,l.jsx)("span",{children:a.betAmount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),(0,l.jsx)(R.w,{}),(0,l.jsxs)("div",{className:"w-full text-center",children:[(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pr\xeamio atual estimado"}),(0,l.jsx)("p",{className:"text-xl font-bold text-primary drop-shadow-sm",children:p.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),(0,l.jsxs)(k.m_,{children:[(0,l.jsx)(k.k$,{asChild:!0,children:(0,l.jsxs)("p",{className:"text-xs text-muted-foreground cursor-help flex items-center justify-center gap-1",children:[(0,l.jsx)("span",{children:"Valor dividido entre os acertadores"}),(0,l.jsx)(D.A,{className:"h-3 w-3"})]})}),(0,l.jsx)(k.ZI,{className:"max-w-xs text-center",children:(0,l.jsx)("p",{children:"O pr\xeamio \xe9 o valor inicial mais 90% do total arrecadado com as taxas, e ser\xe1 dividido igualmente entre todos que acertarem o placar exato."})})]})]}),(0,l.jsxs)(m.$,{className:"w-full font-bold",onClick:e=>{e.preventDefault(),e.stopPropagation(),n?o.push("/boloes/".concat(a.id)):o.push("/login")},disabled:b,children:[b&&(0,l.jsx)(P.A,{className:"mr-2 h-4 w-4"}),"Finalizado"===j?"Ver Resultados":"Fechado"===j?"Chutes Encerrados":"Chutar Placar"]})]})]})})}function L(e){let{bolao:a}=e,[s,r]=(0,t.useState)(null),[n,o]=(0,t.useState)(null),[i,c]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{c(!0);let[e,s]=await Promise.all([(0,y._J)(a.homeTeamId),(0,y._J)(a.awayTeamId)]);r(e),o(s),c(!1)})()},[a.homeTeamId,a.awayTeamId]),i)?(0,l.jsxs)(C.Zp,{className:"flex flex-col h-full w-full border-border",children:[(0,l.jsxs)(C.aR,{className:"p-4",children:[(0,l.jsx)(I.E,{className:"h-5 w-3/4"}),(0,l.jsx)(I.E,{className:"h-3 w-1/4"})]}),(0,l.jsx)(C.Wu,{className:"flex-grow p-4 flex flex-col items-center justify-center text-center",children:(0,l.jsxs)("div",{className:"flex items-center justify-around w-full",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)(I.E,{className:"h-20 w-20 rounded-full"}),(0,l.jsx)(I.E,{className:"h-4 w-16"})]}),(0,l.jsx)(I.E,{className:"h-6 w-8"}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)(I.E,{className:"h-20 w-20 rounded-full"}),(0,l.jsx)(I.E,{className:"h-4 w-16"})]})]})}),(0,l.jsx)(C.wL,{className:"p-4 bg-muted/30 flex flex-col gap-4",children:(0,l.jsx)(I.E,{className:"h-10 w-full"})})]}):s&&n?(0,l.jsx)(F,{bolao:a,homeTeam:s,awayTeam:n}):null}function _(e){let{title:a,boloes:s}=e;return 0===s.length?null:(0,l.jsxs)("section",{className:"mb-12",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 border-l-4 border-primary pl-4",children:a}),(0,l.jsxs)(h,{opts:{align:"start",loop:!1},className:"w-full",children:[(0,l.jsx)(p,{className:"p-1",children:s.map(e=>(0,l.jsx)(j,{className:"basis-full md:basis-1/2 lg:basis-1/3 xl:basis-1/4 p-2",children:(0,l.jsx)(o(),{href:"/boloes/".concat(e.id),className:"block h-full hover:scale-[1.02] transition-transform duration-200",children:(0,l.jsx)("div",{className:"p-1 h-full",children:(0,l.jsx)(L,{bolao:e,teamA:e.teamADetails,teamB:e.teamBDetails,championship:e.championshipDetails})})})},e.id))}),(0,l.jsx)(N,{className:"hidden md:flex"}),(0,l.jsx)(b,{className:"hidden md:flex"})]})]})}function q(e){let{category:a}=e,[s,n]=(0,t.useState)([]),[o,i]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{i(!0);try{let e=await (0,r.xo)(a.id);n(e)}catch(e){console.error("Erro ao buscar bol\xf5es para a categoria ".concat(a.name,":"),e)}finally{i(!1)}})()},[a]),o)?(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)(I.E,{className:"h-8 w-1/3 mb-4"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)(I.E,{className:"h-48 w-64 rounded-lg"}),(0,l.jsx)(I.E,{className:"h-48 w-64 rounded-lg"}),(0,l.jsx)(I.E,{className:"h-48 w-64 rounded-lg"})]})]}):0===s.length?null:(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:a.name}),(0,l.jsx)(_,{boloes:s})]})}},46102:(e,a,s)=>{s.d(a,{Bc:()=>o,ZI:()=>d,k$:()=>c,m_:()=>i});var l=s(95155),t=s(12115),r=s(78082),n=s(59434);let o=r.Kq,i=r.bL,c=r.l9,d=t.forwardRef((e,a)=>{let{className:s,sideOffset:t=4,...o}=e;return(0,l.jsx)(r.UC,{ref:a,sideOffset:t,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})});d.displayName=r.UC.displayName},49254:(e,a,s)=>{s.d(a,{K7:()=>c,QU:()=>o,st:()=>i,zZ:()=>n});var l=s(35317),t=s(56104);let r=(0,l.rJ)(t.db,"categories"),n=async e=>(await (0,l.gS)(r,{...e,createdAt:(0,l.O5)()})).id,o=async()=>{let e=(0,l.P)(r,(0,l.My)("order","asc"));return(await (0,l.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))},i=async(e,a)=>{let s=(0,l.H9)(t.db,"categories",e);await (0,l.mZ)(s,a)},c=async e=>{let a=(0,l.H9)(t.db,"categories",e);await (0,l.kd)(a)}},68437:(e,a,s)=>{s.d(a,{A:()=>d,AuthProvider:()=>c});var l=s(95155),t=s(12115),r=s(93004),n=s(56104),o=s(35317);let i=(0,t.createContext)({user:null,userProfile:null,userRole:null,loading:!0,balance:null}),c=e=>{var a;let{children:s}=e,[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(null),[x,f]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=(0,r.hg)(n.j2,async e=>{if(p(!0),e){f((await e.getIdTokenResult(!0)).claims.role||null);let a=(0,o.H9)(n.db,"users",e.uid);return(0,o.aQ)(a,a=>{a.exists()?m({uid:a.id,...a.data()}):m(null),d(e),p(!1)})}d(null),m(null),f(null),p(!1)});return()=>e()},[]);let j=null!=(a=null==u?void 0:u.balance)?a:null;return(0,l.jsx)(i.Provider,{value:{user:c,userProfile:u,userRole:x,loading:h,balance:j},children:s})},d=()=>(0,t.useContext)(i)},68856:(e,a,s)=>{s.d(a,{E:()=>r});var l=s(95155),t=s(59434);function r(e){let{className:a,...s}=e;return(0,l.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",a),...s})}},91394:(e,a,s)=>{s.d(a,{BK:()=>i,eu:()=>o,q5:()=>c});var l=s(95155),t=s(12115),r=s(85977),n=s(59434);let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,l.jsx)(r.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t})});o.displayName=r.bL.displayName;let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,l.jsx)(r._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",s),...t})});i.displayName=r._V.displayName;let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,l.jsx)(r.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t})});c.displayName=r.H4.displayName}}]);