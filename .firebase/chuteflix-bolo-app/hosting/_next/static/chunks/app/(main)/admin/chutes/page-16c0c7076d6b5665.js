(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{9768:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>h});var t=a(95155),s=a(12115),o=a(35317),l=a(56104),n=a(85127),d=a(66695),c=a(50172),i=a(50926),u=a(94948),m=a(41784);function h(){let[e,r]=(0,s.useState)([]),[a,h]=(0,s.useState)([]),[x,f]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,o.rJ)(l.db,"chutes"),a=(0,o.P)(e,(0,o._M)("status","in",["Em Aberto","Aprovado"]),(0,o.My)("createdAt","desc")),t=(0,o.P)(e,(0,o._M)("status","in",["Ganho","Perdido","Anulado"]),(0,o.My)("createdAt","desc")),s=(e,r)=>(0,o.aQ)(e,async e=>{f(!0),r(await Promise.all(e.docs.map(async e=>{let r={id:e.id,...e.data()},[a,t]=await Promise.all([(0,i.VM)(r.userId),(0,u.m6)(r.bolaoId)]);return{...r,user:a,bolao:t}}))),f(!1)}),n=s(a,r),d=s(t,h);return()=>{n(),d()}},[]);let p=e=>{switch(e){case"Ganho":return"bg-green-100 text-green-800";case"Perdido":return"bg-red-100 text-red-800";case"Anulado":return"bg-gray-100 text-gray-800";default:return"bg-yellow-100 text-yellow-800"}};return(0,t.jsxs)("div",{className:"container mx-auto space-y-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Gerenciamento de Chutes"}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Chutes em Andamento"}),(0,t.jsx)(d.BT,{children:"Palpites de bol\xf5es que ainda n\xe3o foram finalizados."})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)(n.XI,{children:[(0,t.jsx)(n.A0,{children:(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nd,{children:"Data"}),(0,t.jsx)(n.nd,{children:"Usu\xe1rio"}),(0,t.jsx)(n.nd,{children:"Bol\xe3o"}),(0,t.jsx)(n.nd,{children:"Palpite"})]})}),(0,t.jsx)(n.BF,{children:x?(0,t.jsx)(n.Hj,{children:(0,t.jsx)(n.nA,{colSpan:4,className:"h-24 text-center",children:(0,t.jsx)(c.A,{className:"h-6 w-6 animate-spin mx-auto"})})}):e.length>0?e.map(e=>{var r,a,s;return(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nA,{children:e.createdAt?(0,m.GP)(new Date(1e3*e.createdAt.seconds),"dd/MM/yyyy '\xe0s' HH:mm"):"N/A"}),(0,t.jsx)(n.nA,{children:(null==(r=e.user)?void 0:r.name)||(null==(a=e.user)?void 0:a.email)}),(0,t.jsx)(n.nA,{children:null==(s=e.bolao)?void 0:s.name}),(0,t.jsx)(n.nA,{className:"font-medium",children:"".concat(e.scoreTeam1," x ").concat(e.scoreTeam2)})]},e.id)}):(0,t.jsx)(n.Hj,{children:(0,t.jsx)(n.nA,{colSpan:4,className:"h-24 text-center",children:"Nenhum chute em andamento."})})})]})})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Hist\xf3rico de Chutes"}),(0,t.jsx)(d.BT,{children:"Visualize todos os palpites de bol\xf5es j\xe1 finalizados."})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)(n.XI,{children:[(0,t.jsx)(n.A0,{children:(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nd,{children:"Data"}),(0,t.jsx)(n.nd,{children:"Usu\xe1rio"}),(0,t.jsx)(n.nd,{children:"Bol\xe3o"}),(0,t.jsx)(n.nd,{children:"Palpite"}),(0,t.jsx)(n.nd,{children:"Status"})]})}),(0,t.jsx)(n.BF,{children:x?(0,t.jsx)(n.Hj,{children:(0,t.jsx)(n.nA,{colSpan:5,className:"h-24 text-center",children:(0,t.jsx)(c.A,{className:"h-6 w-6 animate-spin mx-auto"})})}):a.length>0?a.map(e=>{var r,a,s;return(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nA,{children:e.createdAt?(0,m.GP)(new Date(1e3*e.createdAt.seconds),"dd/MM/yyyy '\xe0s' HH:mm"):"N/A"}),(0,t.jsx)(n.nA,{children:(null==(r=e.user)?void 0:r.name)||(null==(a=e.user)?void 0:a.email)}),(0,t.jsx)(n.nA,{children:null==(s=e.bolao)?void 0:s.name}),(0,t.jsx)(n.nA,{className:"font-medium",children:"".concat(e.scoreTeam1," x ").concat(e.scoreTeam2)}),(0,t.jsx)(n.nA,{children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(p(e.status)),children:e.status})})]},e.id)}):(0,t.jsx)(n.Hj,{children:(0,t.jsx)(n.nA,{colSpan:5,className:"h-24 text-center",children:"Nenhum chute no hist\xf3rico."})})})]})})]})]})}},38275:(e,r,a)=>{"use strict";a.d(r,{Q:()=>o});var t=a(90858);let s=(0,t.c7)();async function o(e,r){if(!e)throw Error("Nenhum arquivo fornecido para o upload.");let a=(0,t.KR)(s,r);return await (0,t.D)(a,e),await (0,t.qk)(a)}},50172:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},50926:(e,r,a)=>{"use strict";a.d(r,{CF:()=>n,VM:()=>d,eg:()=>c,x:()=>l});var t=a(35317),s=a(56104),o=a(38275);let l=async(e,r)=>{try{if(!e)throw Error("UID do usu\xe1rio \xe9 necess\xe1rio para o upload.");if(!r)throw Error("Nenhum arquivo selecionado.");let a=await (0,o.Q)(r,"profile-pictures/".concat(e,"/profile.jpg"));return await c(e,{photoURL:a}),a}catch(e){throw console.error("Erro ao fazer upload da foto de perfil:",e),Error("N\xe3o foi poss\xedvel fazer o upload da imagem.")}},n=async()=>{try{let e=(0,t.rJ)(s.db,"users"),r=await (0,t.GG)(e),a=[];return r.forEach(e=>{a.push({uid:e.id,...e.data()})}),a}catch(e){return console.error("Error getting all users:",e),[]}},d=async e=>{try{let r=(0,t.H9)(s.db,"users",e),a=await (0,t.x7)(r);if(a.exists())return{uid:e,...a.data()};return console.log("No such document!"),null}catch(e){return console.error("Error getting user profile:",e),null}},c=async(e,r)=>{try{let a=(0,t.H9)(s.db,"users",e);await (0,t.mZ)(a,r)}catch(e){throw console.error("Error updating user profile:",e),e}}},56104:(e,r,a)=>{"use strict";a.d(r,{Cn:()=>m,IG:()=>u,db:()=>i,j2:()=>c});var t=a(23915),s=a(93004),o=a(35317),l=a(90858),n=a(81427);let d=(0,t.Wp)({apiKey:"AIzaSyBEx-hnuee9Wczxrwx7kyh8q3LyjOgNPLY",authDomain:"chuteflix-bolo-app.firebaseapp.com",projectId:"chuteflix-bolo-app",storageBucket:"chuteflix-bolo-app.firebasestorage.app",messagingSenderId:"1007906207909",appId:"1:1007906207909:web:cbdacde4b8c07a8874f54c"}),c=(0,s.xI)(d),i=(0,o.aU)(d),u=(0,l.c7)(d),m=(0,n.Uz)(d)},59434:(e,r,a)=>{"use strict";a.d(r,{cn:()=>o});var t=a(52596),s=a(39688);function o(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,t.$)(r))}},66695:(e,r,a)=>{"use strict";a.d(r,{BT:()=>c,Wu:()=>i,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>u});var t=a(95155),s=a(12115),o=a(59434);let l=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",a),...s})});i.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},85127:(e,r,a)=>{"use strict";a.d(r,{A0:()=>n,BF:()=>d,Hj:()=>c,XI:()=>l,nA:()=>u,nd:()=>i});var t=a(95155),s=a(12115),o=a(59434);let l=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:r,className:(0,o.cn)("w-full caption-bottom text-sm",a),...s})})});l.displayName="Table";let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("thead",{ref:r,className:(0,o.cn)("[&_tr]:border-b",a),...s})});n.displayName="TableHeader";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("tbody",{ref:r,className:(0,o.cn)("[&_tr:last-child]:border-0",a),...s})});d.displayName="TableBody",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("tfoot",{ref:r,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("tr",{ref:r,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});c.displayName="TableRow";let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("th",{ref:r,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});i.displayName="TableHead";let u=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("td",{ref:r,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("caption",{ref:r,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},91661:(e,r,a)=>{Promise.resolve().then(a.bind(a,9768))},94948:(e,r,a)=>{"use strict";a.d(r,{Ny:()=>m,R1:()=>h,jv:()=>d,m6:()=>i,rP:()=>u,xo:()=>c});var t=a(35317),s=a(56104),o=a(44861);let l=e=>{if(!e)return null;if("function"==typeof e.toDate)return e.toDate();let r=new Date(e);return(0,o.f)(r)?r:null},n=e=>{let r=e.data();return{id:e.id,championshipId:r.championshipId,championship:r.championship,homeTeamId:r.homeTeamId||r.teamAId,awayTeamId:r.awayTeamId||r.teamBId,matchStartDate:l(r.matchStartDate),matchEndDate:l(r.matchEndDate),closingTime:r.closingTime,betAmount:r.betAmount,initialPrize:r.initialPrize||0,status:r.status||"Aberto",categoryIds:r.categoryIds||[],userGuess:r.userGuess}},d=async()=>{try{return(await (0,t.GG)((0,t.rJ)(s.db,"boloes"))).docs.map(n)}catch(e){throw console.error("Erro ao buscar bol\xf5es: ",e),Error("N\xe3o foi poss\xedvel buscar os bol\xf5es.")}},c=async e=>{try{let r=(0,t.P)((0,t.rJ)(s.db,"boloes"),(0,t._M)("categoryIds","array-contains",e));return(await (0,t.GG)(r)).docs.map(n)}catch(e){throw console.error("Erro ao buscar bol\xf5es por categoria: ",e),Error("N\xe3o foi poss\xedvel buscar os bol\xf5es para esta categoria.")}},i=async e=>{if(!e)return null;try{let r=await (0,t.x7)((0,t.H9)(s.db,"boloes",e));if(r.exists())return n(r);return null}catch(e){throw console.error("Erro ao buscar bol\xe3o pelo ID: ",e),Error("N\xe3o foi poss\xedvel buscar os dados do bol\xe3o.")}},u=async e=>{try{let{homeTeam:r,awayTeam:a,...o}=e;return(await (0,t.gS)((0,t.rJ)(s.db,"boloes"),{...o,homeTeamId:r.id,awayTeamId:a.id,status:"Aberto",createdAt:(0,t.O5)()})).id}catch(e){throw console.error("Erro ao adicionar bol\xe3o: ",e),Error("N\xe3o foi poss\xedvel adicionar o bol\xe3o.")}},m=async(e,r)=>{try{let{homeTeam:a,awayTeam:o,...l}=r,n=(0,t.H9)(s.db,"boloes",e),d={...l};a&&(d.homeTeamId=a.id),o&&(d.awayTeamId=o.id),await (0,t.mZ)(n,d)}catch(e){throw console.error("Erro ao atualizar bol\xe3o: ",e),Error("N\xe3o foi poss\xedvel atualizar o bol\xe3o.")}},h=async e=>{try{await (0,t.kd)((0,t.H9)(s.db,"boloes",e))}catch(e){throw console.error("Erro ao deletar bol\xe3o: ",e),Error("N\xe3o foi poss\xedvel deletar o bol\xe3o.")}}}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,7138,4277,7106,1784,8441,1684,7358],()=>r(91661)),_N_E=e.O()}]);