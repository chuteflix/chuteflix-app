(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3080],{3567:(e,s,a)=>{"use strict";a.d(s,{R:()=>r});var t=a(35476);function r(e){return+(0,t.a)(e)<Date.now()}},12543:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(40157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},21013:(e,s,a)=>{Promise.resolve().then(a.bind(a,84923))},55365:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>i,TN:()=>o,XL:()=>c});var t=a(95155),r=a(12115),l=a(74466),n=a(59434);let d=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=r.forwardRef((e,s)=>{let{className:a,variant:r,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(d({variant:r}),a),...l})});i.displayName="Alert";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});c.displayName="AlertTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",a),...r})});o.displayName="AlertDescription"},84923:(e,s,a)=>{"use strict";a.d(s,{BolaoPageClient:()=>A});var t=a(95155),r=a(12115),l=a(6874),n=a.n(l),d=a(68437),i=a(94948),c=a(6516),o=a(45769),m=a(30285),u=a(66695),x=a(91394),h=a(22346),p=a(68856),j=a(55365),f=a(26126),v=a(47864),N=a(12543),g=a(40157);let w=(0,g.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),y=(0,g.A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),b=(0,g.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var S=a(3567);function A(e){let{id:s}=e,{user:a,loading:l}=(0,d.A)(),[g,A]=(0,r.useState)(null),[T,R]=(0,r.useState)([]),[E,L]=(0,r.useState)(0),[k,B]=(0,r.useState)(!0),[C,I]=(0,r.useState)(null),[_,M]=(0,r.useState)(!1),z=async()=>{try{if(!s)throw Error("ID do bol\xe3o n\xe3o encontrado.");B(!0);let e=await (0,i.m6)(s);if(!e)throw Error("Bol\xe3o n\xe3o encontrado.");let a=await (0,c.e)(s);A(e),R(a),L(new Set(a.map(e=>e.userId)).size)}catch(e){I(e instanceof Error?e.message:"Ocorreu um erro.")}finally{B(!1)}};(0,r.useEffect)(()=>{s&&z()},[s]);let D=(0,r.useMemo)(()=>T.length?Object.values(T.reduce((e,s)=>{var a;let t=null==(a=s.user)?void 0:a.uid;return t&&(e[t]=e[t]||{user:s.user,count:0},e[t].count++),e},{})).sort((e,s)=>s.count-e.count).slice(0,3):[],[T]),H=(0,r.useMemo)(()=>{if((null==g?void 0:g.matchStartDate)&&g.closingTime){let e=new Date(g.matchStartDate),[s,a]=g.closingTime.split(":");return e.setHours(parseInt(s),parseInt(a)),e}return new Date(0)},[g]),P=(0,r.useMemo)(()=>!g||(0,S.R)(H)||"Fechado"===g.status||"Finalizado"===g.status,[H,g]),V=((null==g?void 0:g.initialPrize)||0)+E*((null==g?void 0:g.betAmount)||0)*.9,q=e=>{var s,a,t,r;let l="".concat((null==(s=e.user)?void 0:s.firstName)||(null==(a=e.user)?void 0:a.displayName)||"An\xf4nimo"," apostou ").concat(e.scoreTeam1," x ").concat(e.scoreTeam2);return e.scoreTeam1>e.scoreTeam2?l+=" para o ".concat(null==g||null==(t=g.homeTeam)?void 0:t.name):e.scoreTeam2>e.scoreTeam1&&(l+=" para o ".concat(null==g||null==(r=g.awayTeam)?void 0:r.name)),l};return k||l||!g?(0,t.jsxs)("div",{className:"container mx-auto p-4 space-y-4 max-w-4xl",children:[(0,t.jsx)(p.E,{className:"h-8 w-32"}),(0,t.jsx)(p.E,{className:"h-64 w-full"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(p.E,{className:"h-48 w-full"}),(0,t.jsx)(p.E,{className:"h-48 w-full"})]})]}):C?(0,t.jsx)("div",{className:"container mx-auto p-4",children:(0,t.jsxs)(j.Fc,{variant:"destructive",children:[(0,t.jsx)(j.XL,{children:"Erro"}),(0,t.jsx)(j.TN,{children:C})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 pb-10",children:[(0,t.jsx)(m.$,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)(n(),{href:"/inicio",children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Voltar ao In\xedcio"]})}),(0,t.jsxs)(u.Zp,{className:"overflow-hidden shadow-lg",children:[(0,t.jsx)(u.aR,{className:"p-4 bg-muted/20",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold",children:[g.homeTeam.name," vs ",g.awayTeam.name]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:g.championship})]}),(0,t.jsx)(f.E,{variant:"Aberto"===g.status?"success":"destructive",className:"text-sm",children:g.status})]})}),(0,t.jsxs)(u.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center my-4 space-x-4 md:space-x-8",children:[(0,t.jsxs)(x.eu,{className:"h-20 w-20 md:h-24 md:w-24 border-2",children:[(0,t.jsx)(x.BK,{src:g.homeTeam.logoUrl}),(0,t.jsx)(x.q5,{children:g.homeTeam.name.slice(0,2)})]}),(0,t.jsx)("span",{className:"text-3xl md:text-4xl font-bold text-muted-foreground",children:"VS"}),(0,t.jsxs)(x.eu,{className:"h-20 w-20 md:h-24 md:w-24 border-2",children:[(0,t.jsx)(x.BK,{src:g.awayTeam.logoUrl}),(0,t.jsx)(x.q5,{children:g.awayTeam.name.slice(0,2)})]})]}),(0,t.jsx)(h.w,{className:"my-4"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Encerra em"}),(0,t.jsx)(v.Ay,{date:H,renderer:e=>{let{days:s,hours:a,minutes:r,seconds:l,completed:n}=e;return n||P?(0,t.jsx)("span",{className:"text-destructive font-bold text-lg",children:"Chutes Encerrados"}):(0,t.jsxs)("div",{className:"flex space-x-2 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:String(s).padStart(2,"0")}),(0,t.jsx)("span",{className:"text-xs",children:"DIAS"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:String(a).padStart(2,"0")}),(0,t.jsx)("span",{className:"text-xs",children:"HORAS"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:String(r).padStart(2,"0")}),(0,t.jsx)("span",{className:"text-xs",children:"MIN"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:String(l).padStart(2,"0")}),(0,t.jsx)("span",{className:"text-xs",children:"SEG"})]})]})}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pr\xeamio Estimado"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-primary",children:V.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Participantes"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:E})]})]}),(0,t.jsx)(h.w,{className:"my-4"}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(m.$,{size:"lg",className:"font-bold text-lg",onClick:()=>M(!0),disabled:P,children:P?"Apostas Encerradas":"Chutar Placar por ".concat(g.betAmount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsxs)(u.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w,{}),"Top Chutadores"]}),(0,t.jsx)(u.BT,{children:"Quem mais est\xe1 confiante neste bol\xe3o."})]}),(0,t.jsx)(u.Wu,{className:"space-y-4",children:D.length>0?D.map((e,s)=>{var a,r,l,n,d,i;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"font-bold text-lg text-muted-foreground w-6",children:[s+1,"."]}),(0,t.jsxs)(x.eu,{className:"h-10 w-10 border-2",children:[(0,t.jsx)(x.BK,{src:(null==(a=e.user)?void 0:a.photoURL)||""}),(0,t.jsx)(x.q5,{children:(null==(l=e.user)||null==(r=l.firstName)?void 0:r.charAt(0))||"U"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:(null==(n=e.user)?void 0:n.firstName)||(null==(d=e.user)?void 0:d.displayName)||"An\xf4nimo"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.count," ",e.count>1?"chutes":"chute"]})]})]}),0===s&&(0,t.jsx)(y,{className:"h-6 w-6 text-yellow-400"})]},null==(i=e.user)?void 0:i.uid)}):(0,t.jsx)("p",{className:"text-center text-muted-foreground py-6",children:"Ningu\xe9m se arriscou ainda. Que tal ser o primeiro?"})})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsxs)(u.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(b,{}),"\xdaltimos Chutes"]}),(0,t.jsx)(u.BT,{children:"Veja os palpites mais recentes da galera."})]}),(0,t.jsx)(u.Wu,{className:"space-y-4 max-h-96 overflow-y-auto",children:T.length>0?T.map(e=>{var s,a,r;return(0,t.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,t.jsxs)(x.eu,{className:"h-9 w-9 border-2",children:[(0,t.jsx)(x.BK,{src:(null==(s=e.user)?void 0:s.photoURL)||""}),(0,t.jsx)(x.q5,{children:(null==(r=e.user)||null==(a=r.firstName)?void 0:a.charAt(0))||"U"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:q(e)}}),e.comment&&(0,t.jsxs)("p",{className:"text-muted-foreground bg-muted/50 p-2 rounded-md mt-1",children:['"',e.comment,'"']})]})]},e.id)}):(0,t.jsx)("p",{className:"text-center text-muted-foreground py-6",children:"Ainda n\xe3o h\xe1 chutes. Seja o primeiro a apostar!"})})]})]})]}),g&&(0,t.jsx)(o.D,{isOpen:_,onClose:()=>{M(!1),z()},bolao:g})]})}},85977:(e,s,a)=>{"use strict";a.d(s,{H4:()=>w,_V:()=>g,bL:()=>N});var t=a(12115),r=a(46081),l=a(39033),n=a(52712),d=a(63540),i=a(95155),c="Avatar",[o,m]=(0,r.A)(c),[u,x]=o(c),h=t.forwardRef((e,s)=>{let{__scopeAvatar:a,...r}=e,[l,n]=t.useState("idle");return(0,i.jsx)(u,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:(0,i.jsx)(d.sG.span,{...r,ref:s})})});h.displayName=c;var p="AvatarImage",j=t.forwardRef((e,s)=>{let{__scopeAvatar:a,src:r,onLoadingStatusChange:c=()=>{},...o}=e,m=x(p,a),u=function(e,s){let[a,r]=t.useState("idle");return(0,n.N)(()=>{if(!e)return void r("error");let a=!0,t=new window.Image,l=e=>()=>{a&&r(e)};return r("loading"),t.onload=l("loaded"),t.onerror=l("error"),t.src=e,s&&(t.referrerPolicy=s),()=>{a=!1}},[e,s]),a}(r,o.referrerPolicy),h=(0,l.c)(e=>{c(e),m.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==u&&h(u)},[u,h]),"loaded"===u?(0,i.jsx)(d.sG.img,{...o,ref:s,src:r}):null});j.displayName=p;var f="AvatarFallback",v=t.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:r,...l}=e,n=x(f,a),[c,o]=t.useState(void 0===r);return t.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(e)}},[r]),c&&"loaded"!==n.imageLoadingStatus?(0,i.jsx)(d.sG.span,{...l,ref:s}):null});v.displayName=f;var N=h,g=j,w=v},91394:(e,s,a)=>{"use strict";a.d(s,{BK:()=>i,eu:()=>d,q5:()=>c});var t=a(95155),r=a(12115),l=a(85977),n=a(59434);let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});d.displayName=l.bL.displayName;let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",a),...r})});i.displayName=l._V.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});c.displayName=l.H4.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,7138,4277,7106,6838,7239,9397,5075,7903,7546,7866,8441,1684,7358],()=>s(21013)),_N_E=e.O()}]);