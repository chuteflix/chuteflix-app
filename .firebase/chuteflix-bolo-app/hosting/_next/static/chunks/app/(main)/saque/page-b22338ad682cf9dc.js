(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9977],{3638:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},6101:(e,t,a)=>{"use strict";a.d(t,{s:()=>l,t:()=>n});var r=a(12115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let a=!1,r=e.map(e=>{let r=s(e,t);return a||"function"!=typeof r||(a=!0),r});if(a)return()=>{for(let t=0;t<r.length;t++){let a=r[t];"function"==typeof a?a():s(e[t],null)}}}}function l(...e){return r.useCallback(n(...e),e)}},17607:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19968:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},39588:(e,t,a)=>{Promise.resolve().then(a.bind(a,39743))},39743:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(95155),s=a(12115),n=a(68437),l=a(55379),i=a(30285),c=a(66695),d=a(62523),o=a(85057),u=a(87481),h=a(50172),p=a(19968),x=a(3638),f=a(17607),m=a(91555),v=a(85127),j=a(41784),y=a(6874),g=a.n(y),A=a(35317),N=a(56104);function w(){let{user:e,userProfile:t}=(0,n.A)(),{toast:a}=(0,u.dj)(),[y,w]=(0,s.useState)(void 0),[b,S]=(0,s.useState)(""),[C,P]=(0,s.useState)(!1),[R,k]=(0,s.useState)([]),[E,M]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(null==t?void 0:t.pixKey)&&S(t.pixKey)},[t]),(0,s.useEffect)(()=>{if(!e)return void M(!1);M(!0);let t=(0,A.P)((0,A.rJ)(N.db,"transactions"),(0,A._M)("uid","==",e.uid),(0,A._M)("type","==","withdrawal"),(0,A.My)("createdAt","desc"),(0,A.AB)(10)),a=(0,A.aQ)(t,e=>{k(e.docs.map(e=>({id:e.id,...e.data()}))),M(!1)});return()=>a()},[e]);let q=async()=>{if(!e||!t)return void a({title:"Voc\xea precisa estar logado.",variant:"destructive"});if(!y)return void a({title:"Preencha o valor do saque.",variant:"destructive"});if((t.balance||0)<y)return void a({title:"Saldo insuficiente.",variant:"destructive"});if(!b)return void a({title:"Chave PIX n\xe3o cadastrada.",description:"Cadastre sua chave PIX no menu 'Chave PIX' antes de sacar.",variant:"destructive"});P(!0);try{await (0,l.TJ)({amount:y,pixKey:b}),a({title:"Solicita\xe7\xe3o de saque enviada com sucesso!",description:"Sua solicita\xe7\xe3o ser\xe1 processada em breve.",variant:"success"}),w(void 0)}catch(e){a({title:"Erro ao solicitar saque.",description:e.message,variant:"destructive"})}finally{P(!1)}},V=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},B=e=>{switch(e){case"completed":return"Conclu\xeddo";case"failed":return"Recusado";default:return"Pendente"}};return(0,r.jsxs)("div",{className:"container mx-auto space-y-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Solicitar Saque"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Passo 1: Informe o Valor"}),(0,r.jsx)(c.BT,{children:"Digite o valor que voc\xea deseja sacar do seu saldo."})]}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"amount",children:"Valor do Saque (R$)"}),(0,r.jsx)(m.HG,{id:"amount",customInput:d.p,thousandSeparator:".",decimalSeparator:",",prefix:"R$ ",value:y,onValueChange:e=>w(e.floatValue),placeholder:"R$ 0,00",className:"h-12 text-lg"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"pixKey",children:"Chave PIX"}),(0,r.jsx)(d.p,{id:"pixKey",value:b,disabled:!0,className:"h-12 text-lg"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Para alterar sua chave, v\xe1 para a aba ",(0,r.jsx)(g(),{href:"/settings",className:"underline",children:"Chave PIX"}),"."]})]}),(0,r.jsxs)(i.$,{onClick:q,disabled:C,className:"w-full h-12 text-lg",children:[C?(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"}),C?"Processando...":"Solicitar Saque"]})]})]}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(x.A,{})," Hist\xf3rico de Saques"]}),(0,r.jsx)(c.BT,{children:"Acompanhe o status dos seus 10 saques mais recentes."})]}),(0,r.jsx)(c.Wu,{children:(0,r.jsxs)(v.XI,{children:[(0,r.jsx)(v.A0,{children:(0,r.jsxs)(v.Hj,{children:[(0,r.jsx)(v.nd,{children:"Data"}),(0,r.jsx)(v.nd,{children:"Valor"}),(0,r.jsx)(v.nd,{children:"Status"}),(0,r.jsx)(v.nd,{children:"Comprovante"})]})}),(0,r.jsx)(v.BF,{children:E?(0,r.jsx)(v.Hj,{children:(0,r.jsx)(v.nA,{colSpan:4,className:"h-24 text-center",children:(0,r.jsx)(h.A,{className:"h-6 w-6 animate-spin mx-auto"})})}):R.length>0?R.map(e=>{var t;return(0,r.jsxs)(v.Hj,{children:[(0,r.jsx)(v.nA,{children:e.createdAt?(0,j.GP)(new Date(1e3*e.createdAt.seconds),"dd/MM/yyyy"):"N/A"}),(0,r.jsx)(v.nA,{children:Math.abs(e.amount).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),(0,r.jsx)(v.nA,{children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(V(e.status)),children:B(e.status)})}),(0,r.jsx)(v.nA,{children:(null==(t=e.metadata)?void 0:t.receiptUrl)?(0,r.jsx)(i.$,{asChild:!0,variant:"outline",size:"icon",children:(0,r.jsx)(g(),{href:e.metadata.receiptUrl,target:"_blank",children:(0,r.jsx)(f.A,{className:"h-4 w-4"})})}):(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"-"})})]},e.id)}):(0,r.jsx)(v.Hj,{children:(0,r.jsx)(v.nA,{colSpan:4,className:"h-24 text-center",children:"Nenhum saque realizado."})})})]})})]})]})]})}},40968:(e,t,a)=>{"use strict";a.d(t,{b:()=>i});var r=a(12115),s=a(63540),n=a(95155),l=r.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},50172:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},63540:(e,t,a)=>{"use strict";a.d(t,{sG:()=>u,hO:()=>h});var r=a(12115),s=a(47650),n=a(6101),l=a(95155),i=r.forwardRef((e,t)=>{let{children:a,...s}=e,n=r.Children.toArray(a),i=n.find(o);if(i){let e=i.props.children,a=n.map(t=>t!==i?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,l.jsx)(c,{...s,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,l.jsx)(c,{...s,ref:t,children:a})});i.displayName="Slot";var c=r.forwardRef((e,t)=>{let{children:a,...s}=e;if(r.isValidElement(a)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(a=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(a),l=function(e,t){let a={...t};for(let r in t){let s=e[r],n=t[r];/^on[A-Z]/.test(r)?s&&n?a[r]=(...e)=>{n(...e),s(...e)}:s&&(a[r]=s):"style"===r?a[r]={...s,...n}:"className"===r&&(a[r]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(s,a.props);return a.type!==r.Fragment&&(l.ref=t?(0,n.t)(t,e):e),r.cloneElement(a,l)}return r.Children.count(a)>1?r.Children.only(null):null});c.displayName="SlotClone";var d=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function o(e){return r.isValidElement(e)&&e.type===d}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let a=r.forwardRef((e,a)=>{let{asChild:r,...s}=e,n=r?i:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...s,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function h(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7138,4277,7106,6838,1784,1555,2441,8441,1684,7358],()=>t(39588)),_N_E=e.O()}]);