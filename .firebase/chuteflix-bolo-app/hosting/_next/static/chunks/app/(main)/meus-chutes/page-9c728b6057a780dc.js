(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5527],{25168:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>N});var t=l(95155),r=l(12115),a=l(68437),n=l(47864),i=l(66695),d=l(26126),o=l(30285),c=l(85268),u=l(50286);let m=(0,l(40157).A)("GitCommitVertical",[["path",{d:"M12 3v6",key:"1holv5"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 15v6",key:"a9ows0"}]]);var p=l(45769);function h(e){var s;let{bolao:l,palpites:a,participantCount:h,onPalpiteSubmit:x}=e,[f,g]=(0,r.useState)(!1);if(!l)return null;let j=(l.initialPrize||0)+h*l.fee*.9,y=new Date("".concat(l.matchDate,"T").concat(l.closingTime));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Zp,{className:"flex flex-col",children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{className:"text-base",children:l.name}),(0,t.jsx)(i.BT,{children:null==(s=l.championshipDetails)?void 0:s.name})]}),(0,t.jsxs)(i.Wu,{className:"flex-grow space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)("span",{children:["Pr\xeamio: ",(0,t.jsx)("span",{className:"font-bold text-foreground",children:j.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)("span",{children:[h," participantes"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),"Seus Palpites"]}),a.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-muted/50",children:[(0,t.jsxs)("span",{className:"font-bold",children:[e.scoreTeam1," x ",e.scoreTeam2]}),(0,t.jsx)(d.E,{variant:"Em Aberto"===e.status?"secondary":"default",children:e.status})]},e.id))]})]}),(0,t.jsxs)(i.wL,{className:"flex flex-col items-start gap-2 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,t.jsx)("p",{children:"Encerra em:"}),(0,t.jsx)(n.Ay,{date:y,renderer:e=>{let{days:s,hours:l,minutes:r,seconds:a,completed:n}=e;return n?(0,t.jsx)("span",{className:"font-bold text-destructive",children:"Chutes Encerrados"}):(0,t.jsxs)("div",{className:"flex space-x-1 text-sm",children:[(0,t.jsxs)("span",{children:[String(s).padStart(2,"0"),"d"]}),(0,t.jsxs)("span",{children:[String(l).padStart(2,"0"),"h"]}),(0,t.jsxs)("span",{children:[String(r).padStart(2,"0"),"m"]}),(0,t.jsxs)("span",{children:[String(a).padStart(2,"0"),"s"]})]})}})]}),(0,t.jsx)(o.$,{size:"sm",className:"w-full",onClick:()=>g(!0),children:"Chutar Novamente"})]})]}),(0,t.jsx)(p.D,{isOpen:f,onClose:()=>{g(!1),x()},bolao:l})]})}var x=l(68856),f=l(35317),g=l(56104),j=l(94948),y=l(34948),v=l(53424),b=l(22346);function N(){let{user:e}=(0,a.A)(),[s,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!e)return void i(!1);i(!0);let s=(0,f.P)((0,f.rJ)(g.db,"chutes"),(0,f._M)("userId","==",e.uid),(0,f.My)("createdAt","desc")),t=(0,f.aQ)(s,async e=>{let s=e.docs.map(e=>({id:e.id,...e.data()})).reduce((e,s)=>((e[s.bolaoId]=e[s.bolaoId]||[]).push(s),e),{}),t=Object.keys(s).map(async e=>{let l=await (0,j.m6)(e);if(!l)return null;let[t,r,a]=await Promise.all([(0,y._J)(l.teamAId),(0,y._J)(l.teamBId),(0,v.cc)(l.championshipId)]);return{bolao:{...l,teamADetails:t,teamBDetails:r,championshipDetails:a},palpitesDoUsuario:s[e]}}),r=(await Promise.all(t)).filter(e=>null!==e);r.sort((e,s)=>{let l=e.palpitesDoUsuario[0].createdAt.toMillis();return s.palpitesDoUsuario[0].createdAt.toMillis()-l}),l(r),i(!1)},e=>{console.error("Erro ao buscar palpites em tempo real: ",e),i(!1)});return()=>t()},[e]);let{ongoingGroups:d,completedGroups:o}=(0,r.useMemo)(()=>({ongoingGroups:s.filter(e=>"Dispon\xedvel"===e.bolao.status||"Chutes Encerrados"===e.bolao.status),completedGroups:s.filter(e=>"Finalizado"===e.bolao.status)}),[s]);return n?(0,t.jsxs)("div",{className:"container mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Meus Chutes"}),(0,t.jsxs)("div",{className:"space-y-12",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(x.E,{className:"h-8 w-1/4 mb-6"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,s)=>(0,t.jsx)(x.E,{className:"h-48 w-full rounded-lg"},s))})]}),(0,t.jsx)(b.w,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x.E,{className:"h-8 w-1/4 mb-6"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:2}).map((e,s)=>(0,t.jsx)(x.E,{className:"h-48 w-full rounded-lg"},s))})]})]})]}):(0,t.jsx)("div",{className:"container mx-auto space-y-12",children:0===s.length?(0,t.jsxs)("div",{className:"text-center bg-muted/20 border-2 border-dashed border-border/30 rounded-lg py-20 col-span-full",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold",children:"Voc\xea ainda n\xe3o fez nenhum chute."}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Explore os bol\xf5es dispon\xedveis e d\xea o seu palpite!"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6 border-l-4 border-primary pl-4",children:"Em Jogo"}),d.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:d.map(e=>(0,t.jsx)(h,{bolao:e.bolao,palpites:e.palpitesDoUsuario},e.bolao.id))}):(0,t.jsx)("p",{className:"text-muted-foreground ml-5",children:"Voc\xea n\xe3o tem chutes em andamento."})]}),o.length>0&&(0,t.jsx)(b.w,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6 border-l-4 border-gray-500 pl-4",children:"Hist\xf3rico"}),o.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(e=>(0,t.jsx)(h,{bolao:e.bolao,palpites:e.palpitesDoUsuario},e.bolao.id))}):!n&&d.length>0&&(0,t.jsx)("p",{className:"text-muted-foreground ml-5",children:"Seu hist\xf3rico de chutes est\xe1 vazio."})]})]})})}},50286:(e,s,l)=>{"use strict";l.d(s,{A:()=>t});let t=(0,l(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},66634:(e,s,l)=>{"use strict";l.d(s,{DX:()=>n});var t=l(12115);function r(e,s){if("function"==typeof e)return e(s);null!=e&&(e.current=s)}var a=l(95155),n=function(e){let s=function(e){let s=t.forwardRef((e,s)=>{let{children:l,...a}=e;if(t.isValidElement(l)){var n;let e,i,d=(n=l,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),o=function(e,s){let l={...s};for(let t in s){let r=e[t],a=s[t];/^on[A-Z]/.test(t)?r&&a?l[t]=(...e)=>{let s=a(...e);return r(...e),s}:r&&(l[t]=r):"style"===t?l[t]={...r,...a}:"className"===t&&(l[t]=[r,a].filter(Boolean).join(" "))}return{...e,...l}}(a,l.props);return l.type!==t.Fragment&&(o.ref=s?function(...e){return s=>{let l=!1,t=e.map(e=>{let t=r(e,s);return l||"function"!=typeof t||(l=!0),t});if(l)return()=>{for(let s=0;s<t.length;s++){let l=t[s];"function"==typeof l?l():r(e[s],null)}}}}(s,d):d),t.cloneElement(l,o)}return t.Children.count(l)>1?t.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}(e),l=t.forwardRef((e,l)=>{let{children:r,...n}=e,i=t.Children.toArray(r),o=i.find(d);if(o){let e=o.props.children,r=i.map(s=>s!==o?s:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(s,{...n,ref:l,children:t.isValidElement(e)?t.cloneElement(e,void 0,r):null})}return(0,a.jsx)(s,{...n,ref:l,children:r})});return l.displayName=`${e}.Slot`,l}("Slot"),i=Symbol("radix.slottable");function d(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}},74466:(e,s,l)=>{"use strict";l.d(s,{F:()=>n});var t=l(52596);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=t.$,n=(e,s)=>l=>{var t;if((null==s?void 0:s.variants)==null)return a(e,null==l?void 0:l.class,null==l?void 0:l.className);let{variants:n,defaultVariants:i}=s,d=Object.keys(n).map(e=>{let s=null==l?void 0:l[e],t=null==i?void 0:i[e];if(null===s)return null;let a=r(s)||r(t);return n[e][a]}),o=l&&Object.entries(l).reduce((e,s)=>{let[l,t]=s;return void 0===t||(e[l]=t),e},{});return a(e,d,null==s||null==(t=s.compoundVariants)?void 0:t.reduce((e,s)=>{let{class:l,className:t,...r}=s;return Object.entries(r).every(e=>{let[s,l]=e;return Array.isArray(l)?l.includes({...i,...o}[s]):({...i,...o})[s]===l})?[...e,l,t]:e},[]),null==l?void 0:l.class,null==l?void 0:l.className)}},85268:(e,s,l)=>{"use strict";l.d(s,{A:()=>t});let t=(0,l(40157).A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},97074:(e,s,l)=>{Promise.resolve().then(l.bind(l,25168))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,7138,4277,7106,7239,9397,5075,7903,7546,7866,8441,1684,7358],()=>s(97074)),_N_E=e.O()}]);